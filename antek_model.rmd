---
title: "Antek"
output: 
  html_document:
    toc: true
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(vars)
```

## Intro

This documents the fforts to create a better model than eq3 - so bogie corner acc as a function of wheel acc 

```{r data in, echo = FALSE}

# reading in data
data_train <- readRDS("./input/train_data.RDS")

data_test  <- readRDS("./input/test_data.RDS")

#linear models:
#source("./R Scripts/linear_models.R")

```

## Models

### eq3

kept here for reference - as it might be the best thing so far
  
```{r eq3, echo = FALSE}

source("./R Scripts/models_eq3.R")

#res3<-run_fits(model_df = models, data_df = data_train)

#res3$Track<-ifelse(res3$ExperimentID<101,1,2)

```

### eq3 + platform

platform added as source of excitation for bogie acc

```{r eq with platform, echo = FALSE}



```

### vector model

considering a VAR model with wheels as exogenous variables and platform and bogie as endogenous ones

```{r var, echo = FALSE}

df_endo<-data_train[,c("azs_1_1","azp_1r_1","azp_2r_1","azp_1l_1","azp_2l_1")]

df_exo<-data_train[,c("az_1r_1","az_1l_1","az_2r_1","az_2l_1")]

res<-VAR(df_endo,type="const",p=0,exogen=df_exo)



```

## Comparison plots

